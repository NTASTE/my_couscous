<!DOCTYPE html>
<html lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta http-equiv="Content-Language" content="zh-cn">
	<meta name="keywords" content="文档手册">
	<meta name="description" content="写文档从此快乐">

	<title>文档生成器</title>

	<link rel="stylesheet" type="text/css" href="/css/bootstrap.min.css">
	<link rel="stylesheet" type="text/css" href="/css/detail.css">
	<link rel="stylesheet" type="text/css" href="/css/markdownbody.css">
</head>

<body>
	<header class="detail-headfix">
		<nav class="w-1000 clearfix">
			<a href="" class="head-logo" target="_blank">
				<h2 style="font-size:28px;">
					文档生成器
				<!-- <img src="/images/logo.png" class="jklogo" > -->
			</h2>
			</a>
			<ul class="head-catalog">
									<li class="head-catalog-list ">
						<a href="/index.html">
							首页
						</a>
					</li>
									<li class="head-catalog-list ">
						<a href="/./docs/intro/desc.html">
							wiki
						</a>
					</li>
							</ul>
		</nav>
	</header>

	<div class="detail-wrapper w-1000  clearfix">
		<div class="detail-left">
			<ul class="detail-nav">
									<li class="detail-navlist navlist-one ">
						<div class="detail-navlist-title">
															<a href="/./docs/intro/desc.html">
									简介
								</a>
							
													</div>
											</li>
									<li class="detail-navlist navlist-one ">
						<div class="detail-navlist-title">
															<a href="#">
									数据接口
								</a>
							
															<div class="navlist-more more-one nav-down"></div>
													</div>
												<ul class="navul-one ">
														<li class="detail-navlist ">
								<div class="detail-navlist-title title-two ">
									<a href="/./docs/intro/api.html">
										调用须知
									</a>
								</div>
							</li>
														<li class="detail-navlist ">
								<div class="detail-navlist-title title-two ">
									<a href="/./docs/intro/boardlist.html">
										榜单列表
									</a>
								</div>
							</li>
														<li class="detail-navlist ">
								<div class="detail-navlist-title title-two ">
									<a href="/./docs/intro/board.html">
										榜单接口
									</a>
								</div>
							</li>
														<li class="detail-navlist ">
								<div class="detail-navlist-title title-two ">
									<a href="/./docs/intro/catelist.html">
										分类列表
									</a>
								</div>
							</li>
														<li class="detail-navlist ">
								<div class="detail-navlist-title title-two ">
									<a href="/./docs/intro/cate.html">
										分类接口
									</a>
								</div>
							</li>
														<li class="detail-navlist ">
								<div class="detail-navlist-title title-two ">
									<a href="/./docs/intro/update.html">
										更新接口
									</a>
								</div>
							</li>
														<li class="detail-navlist ">
								<div class="detail-navlist-title title-two ">
									<a href="/./docs/intro/search.html">
										检索接口
									</a>
								</div>
							</li>
														<li class="detail-navlist ">
								<div class="detail-navlist-title title-two ">
									<a href="/./docs/intro/rec.html">
										推荐接口
									</a>
								</div>
							</li>
														<li class="detail-navlist ">
								<div class="detail-navlist-title title-two ">
									<a href="/./docs/intro/content.html">
										内容接口
									</a>
								</div>
							</li>
														<li class="detail-navlist ">
								<div class="detail-navlist-title title-two ">
									<a href="/./docs/intro/sug.html">
										内容建议
									</a>
								</div>
							</li>
														<li class="detail-navlist ">
								<div class="detail-navlist-title title-two ">
									<a href="/./docs/intro/privilege.html">
										特权接口
									</a>
								</div>
							</li>
														<li class="detail-navlist ">
								<div class="detail-navlist-title title-two ">
									<a href="/./docs/intro/topiclist.html">
										专题列表
									</a>
								</div>
							</li>
														<li class="detail-navlist ">
								<div class="detail-navlist-title title-two ">
									<a href="/./docs/intro/topic.html">
										专题接口
									</a>
								</div>
							</li>
														<li class="detail-navlist ">
								<div class="detail-navlist-title title-two ">
									<a href="/./docs/intro/redirect.html">
										下载接口
									</a>
								</div>
							</li>
														<li class="detail-navlist ">
								<div class="detail-navlist-title title-two ">
									<a href="/./docs/intro/dlcallback.html">
										下载回调
									</a>
								</div>
							</li>
														<li class="detail-navlist ">
								<div class="detail-navlist-title title-two ">
									<a href="/./docs/intro/cpsdownload.html">
										CPS下载接口
									</a>
								</div>
							</li>
													</ul>
											</li>
									<li class="detail-navlist navlist-one ">
						<div class="detail-navlist-title">
															<a href="#">
									附录
								</a>
							
															<div class="navlist-more more-one nav-down"></div>
													</div>
												<ul class="navul-one ">
														<li class="detail-navlist ">
								<div class="detail-navlist-title title-two ">
									<a href="/./docs/intro/extrainfo1.html">
										附录1- signmd5
									</a>
								</div>
							</li>
														<li class="detail-navlist ">
								<div class="detail-navlist-title title-two ">
									<a href="/./docs/intro/extrainfo2.html">
										附录2-数据加密
									</a>
								</div>
							</li>
														<li class="detail-navlist navlist-active">
								<div class="detail-navlist-title title-two ">
									<a href="/./docs/intro/extrainfo3.html">
										附录3-参数签名
									</a>
								</div>
							</li>
														<li class="detail-navlist ">
								<div class="detail-navlist-title title-two ">
									<a href="/./docs/intro/extrainfo4.html">
										附录4-字段对照
									</a>
								</div>
							</li>
													</ul>
											</li>
									<li class="detail-navlist navlist-one ">
						<div class="detail-navlist-title">
															<a href="/./docs/intro/question.html">
									常见问题
								</a>
							
													</div>
											</li>
									<li class="detail-navlist navlist-one ">
						<div class="detail-navlist-title">
															<a href="/./docs/intro/about.html">
									联系我们
								</a>
							
													</div>
											</li>
							</ul>
		</div>

		<div class="detail-main">
			<div class="markdown-body">
				<h3 id="sign">sign生成算法(签名)</h3>
<hr />
<ol>
<li>将接口请求参数（含get及post）用&amp;字符拼接。
如：from=testiD&amp;token=testiD&amp;type=app&amp;...
<blockquote class="bs-callout bs-callout-warning" style="padding:10px"><h4 id="">注意</h4>i、拼接时请注意按照文档所列字段以字典序升序方式进行。<br>ii、参数action不参与签名，所有参数需做一次urlencode（编码将会以 RFC 1738标准和application/x-www-form-urlencoded媒体类型进行编码，空格会被编码成加号（+））。如未特殊说明，所有参数值统一使用UTF-8编码。</blockquote></li>
<li>将上面生成的字符串的md5值并转换为大写。</li>
</ol>
<p>Java示例：</p>
<pre><code class="language-java">/**
 * 获取字符串的md5
 * @param str
 * @return
 */
public static String toMd5(String str){  
    try {  
        MessageDigest md5 = MessageDigest.getInstance("MD5");  
        byte[] bytes = md5.digest(str.getBytes("utf-8"));
        if (null != bytes) {
            return parseByte2HexStr(bytes);
        }
    } catch (NoSuchAlgorithmException e) {  
        e.printStackTrace();  
    } catch (UnsupportedEncodingException e) {
        e.printStackTrace();
    }
    return null;
}
/**
 * 将二进制转换成16进制
 * @param buf
 * @return
 */  
public static String parseByte2HexStr(byte buf[]) {  
    if (null == buf) {
        return null;
    }
    StringBuffer sb = new StringBuffer();  
    for (int i = 0; i &lt; buf.length; i++) {  
        String hex = Integer.toHexString(buf[i] &amp; 0xFF);  
        if (hex.length() == 1) {  
            hex = '0' + hex;  
        }  
        sb.append(hex.toUpperCase());  
    }  
    return sb.toString();  
}</code></pre>
<p>PHP示例：</p>
<pre><code class="language-php">/**
 * 获取md5
 *
 * @access public
 * @static
 * @param  array $arr 请求原文参数
 * @return string
 */
public static function getMD5($arr) {
    if (empty($arr)) {
        return '';
    }
    ksort($arr);
    $md5 = strtoupper(md5(http_build_query($arr)));

    return $md5;
}</code></pre>
<h5 id="-1">示例</h5>
<h6 id="-2">原文：</h6>
<p>apilevel=18&amp;bdi_cid=9177265119920&amp;bdi_imei=jBsNnCkjxDsnCaRbetUPtw%253D%253D&amp;bdi_imsi=NWEzYjI4N2YyYjEzYmVmOA%3D%3D&amp;bdi_loc=5YyX5Lqs5biC&amp;bdi_mac=YWM6YmM6MzI6OWE6YmY6MzM%3D&amp;bdi_uip=127.0.0.1&amp;brand=OPSSON&amp;class=g&amp;cname=WS%3AYY&amp;cpack=monkey&amp;ct=1452249585&amp;cver=2.0&amp;dpi=300&amp;from=1014104s&amp;model=Q1&amp;os_version=4.3&amp;pn=0&amp;pver=3&amp;resolution=720_1280&amp;rn=10&amp;token=jingyan&amp;type=app&amp;uid=712ACBBE63076AEC76BE860AQDEWE880&amp;word=%E6%AC%A2%E4%B9%90%E6%96%97%E5%9C%B0%E4%B8%BB&amp;bdi_bear=WF</p>
<h6 id="-3">密文：</h6>
<p>09C302991E0D5AEC13FF09A9E3A38B2B</p>
			</div>

			<div class="wiki-right">
				<div class="backtotop">
					<a href="javascript:;" class="btn-backtotop" style="">
						<div class="arrow"></div>
						<div class="stick"></div>
					</a>
				</div>
			</div>
			<div class="previous-and-next mg-t20">
				&nbsp;
			</div>
		</div>

	</div>
	<script type="text/javascript" src="/js/jquery.min.js"></script>
	<script type="text/javascript" src="/js/detail.js"></script>
</body>
</html>
